<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>07_函数中的this</title>
</head>
<body>
<!--
1. this是什么?
  * 一个关键字, 一个内置的引用变量
  * 在函数中都可以直接使用this
  * 在定义函数时, this还没有确定, 只有在执行时才动态确定(绑定)的
2. 如何确定this的值?
  * test()
  * obj.test()
  * new test()
  * test.call(obj)
前置知识:
  * 本质上任何函数在执行时都是通过某个对象调用的
-->
<script type="text/javascript">

  function fn(a, b) {
    // 函数定义时，this指向不能确定
    // 函数调用时，才能确定this指向
    console.log(a, b);
    console.log(this);
    return 123;
  }

  var obj = {a: 123};
  /*
    call / apply 的联系和区别：
      联系：都能改变this指向, 执行函数
      区别：传参方式不一样。
        call传参可以n个，第二个开始是函数的实参
        apply传参只有两个，第二个参数是一个数组，数组里面的值是函数的实参

    bind：通常用来改变回调函数的this指向
      区别：
        1. 不能执行函数，返回一个新函数
        2. 传参方式与call一致
   */
  var result = fn.call(obj, 1, 2);
  // fn.apply(obj, [3, 4]);

  // bind方法返回一个新函数。新函数里面代码和原函数一样，this指向被强制绑定了
  // var newFn = fn.bind(obj, 5);
  // var result = newFn(6);
  console.log(result);
  // fn();

</script>
</body>
</html>